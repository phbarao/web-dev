(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{414:function(e,t,n){"use strict";n.d(t,"f",function(){return v}),n.d(t,"b",function(){return N}),n.d(t,"o",function(){return E}),n.d(t,"d",function(){return y}),n.d(t,"q",function(){return b}),n.d(t,"a",function(){return D}),n.d(t,"n",function(){return w}),n.d(t,"c",function(){return O}),n.d(t,"p",function(){return M}),n.d(t,"e",function(){return S}),n.d(t,"m",function(){return x}),n.d(t,"g",function(){return V}),n.d(t,"l",function(){return k}),n.d(t,"h",function(){return A}),n.d(t,"i",function(){return _}),n.d(t,"k",function(){return L}),n.d(t,"j",function(){return T});var r=n(56),a=n.n(r),i=n(365),u=n(386),o=n(377);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,r,a,i,u){try{var o=e[i](u),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function u(e){s(i,r,a,u,o,"next",e)}function o(e){s(i,r,a,u,o,"throw",e)}u(void 0)})}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e,t,n){e(t,{NAME:"'".concat(Object(u.c)(n,15),"'")})}var v=function(e,t){if(!t)return-1;var n=d(JSON.parse(t),2),r=n[0],i=n[1],u=-1;return e.forEach(function(e,t){var n=JSON.parse(e);if(a.a.isArray(n)){var o=d(n,2),c=o[0],s=o[1];c===r&&s===i&&(u=t)}}),u},g=function(){var e=f(regeneratorRuntime.mark(function e(t,n,r){var u,c,s,f,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=d.length>3&&void 0!==d[3]&&d[3],e.prev=1,e.next=4,i.a.getPreferences(["evernote.shortcuts"]);case 4:if(c=e.sent,s=a.a.get(c,["preferences","evernote.shortcuts"],[]),!(v(s,t)>=0)){e.next=8;break}return e.abrupt("return");case 8:return s[0]=JSON.stringify({updated:Date.now()}),(f=v(s,r))>0?s.splice(f,0,t):s.push(t),e.next=13,i.a.updatePreferences({"evernote.shortcuts":s},["evernote.shortcuts"]);case 13:u||l(o.b,"Message.addShortcut.success",n),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),l(o.a,"Message.addShortcut.failure",n);case 19:case"end":return e.stop()}},e,this,[[1,16]])}));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(){var e=f(regeneratorRuntime.mark(function e(t,n){var r,u,c,s,f,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]&&d[2],e.prev=1,e.next=4,i.a.getPreferences(["evernote.shortcuts"]);case 4:if(u=e.sent,c=a.a.get(u,["preferences","evernote.shortcuts"],[]),s=JSON.stringify({updated:Date.now()}),!((f=v(c,t))<0)){e.next=11;break}return l(o.a,"Message.removeShortcut.failure",n),e.abrupt("return");case 11:return c[0]=s,c.splice(f,1),e.next=15,i.a.updatePreferences({"evernote.shortcuts":c},["evernote.shortcuts"]);case 15:r||l(o.b,"Message.removeShortcut.success",n),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),l(o.a,"Message.removeShortcut.failure",n);case 21:case"end":return e.stop()}},e,this,[[1,18]])}));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=f(regeneratorRuntime.mark(function e(t,n,r){var u,c,s,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.getPreferences(["evernote.shortcuts"]);case 3:if(u=e.sent,c=a.a.get(u,["preferences","evernote.shortcuts"],[]),s=v(c,t),f=n?v(c,n):-1,!(s<1||0===f)){e.next=9;break}return e.abrupt("return");case 9:return c[0]=JSON.stringify({updated:Date.now()}),-1===f?(c.splice(s,1),c.push(t)):(c.splice(f,0,t),d=f<s?s+1:s,c.splice(d,1)),e.next=13,i.a.updatePreferences({"evernote.shortcuts":c},["evernote.shortcuts"]);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),l(o.a,"Message.moveShortcut.failure",r);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=f(regeneratorRuntime.mark(function e(t){var n,r,u,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getPreferences(["evernote.shortcuts"]);case 2:if(n=e.sent,r=a.a.get(n,["preferences","evernote.shortcuts"],[]),u=JSON.stringify({updated:Date.now()}),o=r.filter(function(e){for(var n=0;n<t.length;n++)if(e.includes(t[n]))return!1;return!0}),a.a.isEqual(r,o)){e.next=10;break}return o[0]=u,e.next=10,i.a.updatePreferences({"evernote.shortcuts":o},["evernote.shortcuts"]);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),F=function(e){if(!e)return null;var t=[e.type];switch(e.type){case"Note":t.push(e.noteGuid);break;case"Notebook":t.push(e.notebookGuid);break;case"Stack":t.push(e.stackName);break;case"SavedSearch":t.push(e.savedSearchID)}return t},N=function(e,t){var n=t?JSON.stringify(F(t)):null;g(JSON.stringify(["Notebook",e.guid]),e.name||"",n)},E=function(e){h(JSON.stringify(["Notebook",e.guid]),e.name||"")},y=function(e){g(JSON.stringify(["Stack",e]),e,null)},b=function(e){h(JSON.stringify(["Stack",e]),e)},D=function(){var e=f(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?JSON.stringify(F(n)):null,e.next=3,g(JSON.stringify(["Note",t.guid]),t.title||"",r);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){h(JSON.stringify(["Note",e.guid]),e.title||"")},O=function(){var e=f(regeneratorRuntime.mark(function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=i.length>2?i[2]:void 0,a=r?JSON.stringify(F(r)):null,e.next=5,g(JSON.stringify(["SavedSearch",t.guid]),t.name||"",a,n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];h(JSON.stringify(["SavedSearch",e.guid]),e.name||"",t)},S=function(e){var t=e.map(function(e){return JSON.stringify(["Notebook",e])});m(t)},x=function(e,t,n){var r=F(t),a=r?JSON.stringify(r):null;p(JSON.stringify(F(e)),a,n)},V=function(e,t){return!!e[t]},k=function(e,t){return e.has(t)},A=function(e){return"object"===c(e)&&"Note"===e.type},_=function(e){return"object"===c(e)&&"Notebook"===e.type},L=function(e){return"object"===c(e)&&"Stack"===e.type},T=function(e){return"object"===c(e)&&"SavedSearch"===e.type}},415:function(e,t,n){"use strict";t.a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isValid=void 0,this.message=void 0,this.validationError=void 0,this.errorData=void 0,this.isValid=t.isValid,!1===t.isValid&&(this.message=t.message,this.validationError=t.validationError,this.errorData=t.errorData)}},426:function(e,t,n){"use strict";n.r(t),n.d(t,"validateNameMinLength",function(){return g}),n.d(t,"validateNameMaxLength",function(){return h}),n.d(t,"validateNameRegex",function(){return p}),n.d(t,"validateNameIsUniqueImpl",function(){return m}),n.d(t,"validationWithoutUnique",function(){return F}),n.d(t,"validateWithoutUnique",function(){return N}),n.d(t,"createNameValidate",function(){return E});var r=n(383),a=n.n(r),i=n(56),u=n.n(i),o=n(415),c=n(440),s=n(439),f=n(386),d=a.a.EDAM_NOTEBOOK_NAME_LEN_MIN,l=a.a.EDAM_NOTEBOOK_NAME_LEN_MAX,v=/^(?:[!-~\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])((?:[ -~\xA0-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){0,98}(?:[!-~\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))?$/,g=function(e){var t=u.a.isString(e)&&e.length>=d;return t?new o.a({isValid:t}):new o.a({isValid:!1,message:{key:"Notebook.validation.name.minLength"},validationError:"ValidationErrorMinLength",errorData:{name:e}})},h=function(e){return u.a.isString(e)&&e.length<=l?new o.a({isValid:!0}):new o.a({isValid:!1,message:{key:"Notebook.validation.name.maxLength",variableMap:{NOTEBOOK_NAME:Object(f.d)(e,10),EDAM_NOTEBOOK_NAME_LEN_MAX:l}},validationError:"ValidationErrorMaxLength",errorData:{name:e}})},p=function(e){return u.a.isString(e)&&v.test(e)?new o.a({isValid:!0}):new o.a({isValid:!1,message:{key:"Notebook.validation.name.regex",variableMap:{NOTEBOOK_NAME:Object(f.d)(e,10)}},validationError:"ValidationErrorRegex",errorData:{name:e}})},m=function(e,t,n){return n||u.a.isArray(t)&&u.a.isString(e)&&!t.includes(e)?new o.a({isValid:!0}):new o.a({isValid:!1,message:{key:"Notebook.validation.name.unique",variableMap:{NOTEBOOK_NAME:Object(f.d)(e,10)}},validationError:"ValidationErrorNotUnique",errorData:{name:e}})},F={name:Object(c.a)(g,h,p)},N=Object(s.a)(F),E=function(e,t){var n={name:Object(c.a)(function(n){return m(n,e,t)},h,g,p)};return Object(s.a)(n)}},439:function(e,t,n){"use strict";var r=n(415);t.a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];return Object.keys(t).forEach(function(r){var a=e[r];if(void 0!==a&&"function"==typeof a){var i=a.call(null,t[r]);!1===i.isValid&&n.push(i)}}),n.length>0?n[0]:new r.a({isValid:!0})}}},440:function(e,t,n){"use strict";var r=n(415);t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0;n<t.length;n++){var a=t[n].call(null,e);if(!1===a.isValid)return a}return new r.a({isValid:!0})}}},464:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(383),a=n.n(r),i=n(415),u=n(440),o=n(439),c=n(386),s=a.a.EDAM_NOTE_TITLE_LEN_MIN,f=a.a.EDAM_NOTE_TITLE_LEN_MAX,d=new RegExp("^\\s|\\s$"),l=function(e){return e.length>=s?new i.a({isValid:!0}):new i.a({isValid:!1,message:{key:"Note.ValidationFailed.MinLength",variableMap:{TITLE:e,MIN_LENGTH:s}},validationError:"ValidationErrorMinLength",errorData:{title:e}})},v=function(e){if(e.length<=f)return new i.a({isValid:!0});var t=Object(c.d)(e,10);return new i.a({isValid:!1,message:{key:"Note.ValidationFailed.MaxLength",variableMap:{TITLE:e,MAX_LENGTH:f}},validationError:"ValidationErrorMaxLength",errorData:{title:t}})},g={title:Object(u.a)(l,v,function(e){return d.test(e)?new i.a({isValid:!1,message:{key:"Note.ValidationFailed",variableMap:{TITLE:e}},validationError:"ValidationErrorRegex",errorData:{title:e}}):new i.a({isValid:!0})})},h=(Object(o.a)(g),{title:Object(u.a)(l,v)}),p=Object(o.a)(h)},481:function(e,t,n){"use strict";n.r(t),n.d(t,"validateNameMinLength",function(){return d}),n.d(t,"validateNameMaxLength",function(){return l}),n.d(t,"validateNameRegex",function(){return v}),n.d(t,"validation",function(){return g}),n.d(t,"createNameValidate",function(){return h}),n.d(t,"validate",function(){return p});var r=n(383),a=n.n(r),i=n(415),u=n(440),o=n(439),c=a.a.EDAM_TAG_NAME_LEN_MIN,s=a.a.EDAM_TAG_NAME_LEN_MAX,f=new RegExp("^\\s|\\s$"),d=function(e){return e.length>=c?new i.a({isValid:!0}):new i.a({isValid:!1,message:"Tag name field must have min length ".concat(c),validationError:"ValidationErrorMinLength",errorData:{name:e}})},l=function(e){return e.length<=s?new i.a({isValid:!0}):new i.a({isValid:!1,message:'Tag name field "'.concat(e,'" exceeds max length ').concat(s),validationError:"ValidationErrorMaxLength",errorData:{name:e}})},v=function(e){return f.test(e)?new i.a({isValid:!1,message:'Tag name field "'.concat(e,'" does not pass validation regex'),validationError:"ValidationErrorRegex",errorData:{name:e}}):new i.a({isValid:!0})},g={name:Object(u.a)(l,d,v)},h=function(e){var t={name:Object(u.a)(function(t){return function(e,t){return e.some(function(e){return e.toLocaleLowerCase()===t})?new i.a({isValid:!1,message:"Tag name already present.",validationError:"ValidationErrorNotUnique",errorData:{name:t}}):new i.a({isValid:!0})}(e,t)},l,d,v)};return Object(o.a)(t)},p=Object(o.a)(g)},511:function(e,t,n){"use strict";n(464);var r=n(426);n.d(t,"a",function(){return r});var a=n(481);n.d(t,"b",function(){return a})}}]);